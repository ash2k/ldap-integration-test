LDAP integration test example
=============================

This project demonstrates how you can write unit and integration tests for code that works with LDAP and have coverage report for it.
Note that custom schema is provided in [RFC4512] format and directory is populated from LDIF file.

How to run
----------

    git clone https://github.com/ash2k/ldap-integration-test.git
    cd ./ldap-integration-test
    mvn clean verify

After this you'll get `./target/site/jacoco` directory with coverage report.

How it works
------------

Unit tests are written with help of [TestNG] and [Mockito] and run by [maven-surefire-plugin]. Nothing special here.

Integration tests are also powered by TestNG which is executed by [maven-failsafe-plugin] in this case.

Network port for ApacheDS is reserved by [build-helper-maven-plugin]'s `reserve-network-port` goal. This lowers the probability that build will fail because of used network port and enables parallel builds.

ApacheDS is started at the `pre-integration-test` [Maven build lifecycle] phase and is stopped at `post-integration-test` phase.

Code coverage report is generated by [jacoco-maven-plugin].

[RFC4512]: https://www.ietf.org/rfc/rfc4512.txt
[TestNG]: http://testng.org/
[Mockito]: http://code.google.com/p/mockito/
[maven-surefire-plugin]: http://maven.apache.org/plugins/maven-surefire-plugin/
[maven-failsafe-plugin]: http://maven.apache.org/plugins/maven-failsafe-plugin/
[build-helper-maven-plugin]: http://mojo.codehaus.org/build-helper-maven-plugin/
[Maven build lifecycle]: http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference
[jacoco-maven-plugin]: http://www.eclemma.org/jacoco/
